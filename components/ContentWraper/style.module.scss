.header_mainpanel {
  @include flex-center-vert;
  justify-content: space-between;

  .brand {
    max-width: 129px;
    width: 100%;
    max-height: 44px;
    transition: 0.5s;
    @media only screen and (max-width: $bigTablet) {
      position: relative;
      z-index: 10;
    }

    a {
      display: block;
    }
  }

  .app_navigation {
    margin-right: 54px;
    @media only screen and (max-width: $bigTablet) {
      margin-right: 0;
      width: 100%;
      max-width: 100%;
    }

    .app_navigationList {
      list-style: none;
      @include flex-center-vert;
      @media only screen and (max-width: $bigTablet) {
        margin-right: 0;
        flex-direction: column;
        width: 100%;
        max-width: 100%;
      }

      & > li:not(:last-child) {
        margin-right: 30px;
        @media only screen and (max-width: $bigTablet) {
          margin-right: 0;
        }
      }

      a, span {
        @include fontRem(20, 500, 24);
        text-decoration: none;
        color: $primary;
        @media only screen and (max-width: $laptop) {
          @include fontRem(18, 500, 34);
        }
        @media only screen and (max-width: $bigTablet) {
          @include fontRem(28, 600, 34);
          color: $white;
        }
      }

      li {
        &.hasChild {
          cursor: pointer;
          @media only screen and (max-width: $bigTablet) {
            position: relative;
            width: 100%;
            max-width: 100%;
            text-align: center;
            padding-left: 30px;
            span {
              justify-content: center;

              &.active {
                font-weight: 700;
              }
            }
          }

          a, span {
            @include flex-center-vert;

            > span {
              display: inline-block;
              margin-left: 2px;
              transition: 0.5s;
              @include flex-center-vert;

              &.footerArrow {
                transform: rotate(-180deg);
              }
            }

            &.active {
              font-weight: 700;
            }
          }

          .sub-menu {
            position: absolute;
            width: 100%;
            max-width: 100%;
            z-index: 9;
            left: 0;
            right: 0;
            top: 100px;
            background: $lightBlur;
            box-shadow: 0px 4px 8px rgba(159, 168, 177, 0.4);
            height: calc(100vh - 100px);
            overflow: auto;

            &.footer {
              bottom: 162px;
              top: auto;
            }

            @media only screen and (max-width: $bigTablet) {
              display: none;
            }

            .sub-menu-main {
              width: 100%;
              padding: 90px 0px 151px 0px;
              max-width: 1111px;
              margin: 0 auto;
              @include d-flex;
              align-items: stretch;
              justify-content: center;

              .menu-listing {
                max-width: 370px;
                min-height: 370px;
                width: 100%;

                &:hover {
                  ul {
                    transition: 0.5s;
                    border-radius: 50%;
                  }

                  .view-more {
                    border-radius: 50%;
                    background-color: $lightBlur;
                    transition: 0.5s;
                  }
                }
                &:first-child {
                  ul {
                    background-color: $white;
                    .view-more {
                      background-color: $lightBlur;
                      transition: 0.5s;

                      svg {
                        path {
                          fill: $black;
                        }
                      }
                    }
                  }
                }
                &:not(:first-child,:last-child) {
                  ul {
                    background-color: $black;
                    li {
                      a {
                        color: $white;
                      }
                    }
                  }
                }
                &:not(:last-child) {
                  ul {
                    &:after {
                      content: " ";
                      width: 1px;
                      height: 100%;
                      background-color: $lightBlur;
                      left: 0;
                      filter: blur(1.5px);
                      position: absolute;
                      top: 0;
                      animation: right linear 1 1s;
                    }

                    &:before {
                      content: " ";
                      width: 0%;
                      height: 1px;
                      background-color: $lightBlur;
                      top: 0;
                      filter: blur(1.5px);
                      position: absolute;
                      right: 0;
                      animation: top linear 1 1s;
                      animation-delay: 1s;
                      animation-fill-mode: forwards;
                    }
                  }
                }
                &:last-child {
                  ul {
                    padding: 14px;
                    transform: translate(76px, 76px);

                    .menu-effect {
                      position: absolute;
                      width: 100%;
                      height: 100%;
                      @include flex-center;
                      .top, .left, .right, .bottom {
                        position: absolute;
                        background-color: $white;
                      }
                      .top {
                        width: 0%;
                        height: 1px;
                        top: 0;
                        left: 0;
                        animation: top linear 1 1s;
                        animation-fill-mode: forwards;
                      }
                      .bottom {
                        width: 0%;
                        height: 1px;
                        bottom: 0;
                        right: 0;
                        animation: top linear 1 1s;
                        animation-delay: 2s;
                        animation-fill-mode: forwards;
                      }
                      .left {
                        width: 1px;
                        height: 0%;
                        bottom: 0;
                        left: 0;
                        animation: right linear 1 1s;
                        animation-delay: 3s;
                        animation-fill-mode: forwards;
                      }
                      .right {
                        width: 1px;
                        height: 0;
                        top: 0;
                        right: 0;
                        animation: right linear 1 1s;
                        animation-delay: 1s;
                        animation-fill-mode: forwards;
                      }
                    }
                    &:after {
                      content: " ";
                      background-color: $white;
                      width: 34px;
                      height: 34px;
                      border-radius: 50%;
                      position: absolute;
                      transition: 0.5s;
                      animation: circleSwipe alternate linear 1 5s;
                      animation-fill-mode: forwards;
                    }
                  }
                }
                ul {
                  list-style: none;
                  height: 100%;
                  padding: 76px 10px 100px 68px;
                  position: relative;
                  transition: 0.5s;
                  .view-more {
                    max-width: 100px;
                    width: 100%;
                    padding: 25px;
                    position: absolute;
                    right: 0;
                    bottom: 0;
                  }
                  li {
                    width: 100%;
                    max-width: 100%;

                    &:not(:first-child) {
                      @media only screen and (max-width: $bigTablet) {
                        display: none;
                      }
                    }

                    &:first-child {
                      margin-bottom: 11px;

                      a {
                        @include fontRem(28, 600, 32);
                        display: block;
                        position: relative;
                        padding-right: 23px;
                        @media only screen and (max-width: $middleDesktop) {
                          @include fontRem(16, 700, 30);
                        }
                        @media only screen and (max-width: $bigTablet) {
                          padding-right: 0px;
                          text-align: left;
                        }

                        .link-icon {
                          display: inline-block;
                          position: absolute;
                          left: 0;
                          top: 50%;
                          transform: translateY(-50%);
                        }

                        .arrow-icon {
                          position: absolute;
                          right: 0;
                          top: 50%;
                          transform: translateY(-50%);
                          display: inline-block;
                          width: 23px;
                          height: 23px;
                        }
                      }
                    }

                    &:not(:first-child,.view-more) {
                      a {
                        @include fontRem(16, 500, 32);
                      }

                      margin-top: 5px;
                    }

                    &.view-more {
                      a {
                        @include fontRem(14, 500, 32);
                        color: $lightBlur;
                      }
                    }
                  }
                }
                &:nth-child(5){
                  ul{
                    &:after{
                      animation-delay: 2s;
                      height: 0%;
                      animation-fill-mode: forwards;
                    }
                  }
                }
              }
            }
          }
        }
        a {
          &.active {
            font-weight: 700;
          }
        }
        @media only screen and (max-width: $bigTablet) {
          &:not(:first-child) {
            margin-top: 40px;
          }
        }
      }

    }
  }
  .user_actions {
    @include flex-center-vert;
    @media only screen and (max-width: $bigTablet) {
      position: fixed;
      visibility: hidden;
      opacity: 0;
      z-index: -9;
      transform: translateX(-100%);
      padding-top: 145px;
      background-color: $lightBlur;
      min-height: 100vh;
      width: 100%;
      max-width: 100%;
      left: 0;
      top: 0;
      padding-bottom: 33px;
      height: 100%;
      transition: 0.3s;
      overflow-y: auto;
      justify-content: center;
      &.mobile {
        .app_navigation {
          transition: 0.5s;
          opacity: 0;
        }

        [class *= 'mobile-view'] {
          transform: translateX(0%);
          transition: 1s;
        }
      }
    }
  }
  .circle_overlay {
    display: none;
  }
  .hamburger {
    opacity: 1;
    cursor: pointer;
    -webkit-transition: opacity 0.25s linear;
    -o-transition: opacity 0.25s linear;
    transition: opacity 0.25s linear;
    width: 36px;
    height: 30px;
    @include flex-center-vert;
    position: relative;
    display: none;
    overflow: hidden;
    z-index: 10;
    @media only screen and (max-width: $bigTablet) {
      display: flex;
    }

    div,
    div:after,
    div::before {
      background-color: $lightBlur;
      border-radius: 1px;
      width: 100%;
      height: 4px;
      transition: all 0.15s linear;
    }

    div {
      max-width: 70%;
      margin-left: auto;
    }

    div:after,
    div:before {
      content: "";
      position: absolute;
      max-width: 100%;
      right: 0;
    }

    div:before {
      transform: translateY(-200%);
    }

    div:after {
      transform: translateY(200%);
    }
  }
  &.openMenu {
    .hamburger div {
      background: 0 0 !important;
    }
    .hamburger div:before {
      transform: rotate(45deg);
    }
    .hamburger div:after {
      transform: rotate(-45deg);
    }
    .hamburger div:before,
    .hamburger div:after {
      background-color: $white;
    }
    .user_actions {
      @media only screen and (max-width: $bigTablet) {
        visibility: visible;
        opacity: 1;
        z-index: 9;
        transform: translateX(0);
        transition: 0.3s;
      }
      .lang_switcher_overlay {
        @media only screen and (max-width: $bigTablet) {
          width: 100%;
          max-width: 100%;
          margin-top: 66px;
          padding-bottom: 15px;
        }

      }
    }
    .app_navigation {
      .hasChild {
        a, span {
          span {
            transform: rotate(-90deg);

            svg {
              path {
                fill: $white;
              }
            }
          }
        }
      }
    }
    .user_actions {
      .lang_switcher {
        margin-top: auto;
        .active_lang {
          svg {
            path {
              fill: $white;
            }
          }
        }
      }
    }

    .brand {
      svg {
        path {
          fill: $white;
          stroke: $white;
          transition: 0.5s;
        }
      }
    }

    .circle_overlay {
      display: block;
      @media only screen and (max-width: $bigTablet) {
        position: absolute;
        z-index: -1;
      }
    }
  }
}

@keyframes circleSwipe {
  0% {
    top: -1%;
    left: -1%;
    transform: translateX(0px);
  }
  20% {
    top: 0%;
    left: 0%;
    transform: translateX(371px);
  }
  40% {
    top: 0%;
    left: 0%;
    transform: translate(369px, 369px);
  }
  60% {
    top: 0%;
    left: 0%;
    transform: translate(0px, 371px);
  }
  80% {
    top: 0%;
    left: 0%;
    transform: translate(-1px, -1px);
  }
  100%{
    transform: translate(-50% -50%);
    top: 49%;
    left: 49%;
  }
}

@keyframes top {
  0% {
    width: 0%;
  }
  100% {
    width: 100%;
  }
}

@keyframes right {
  0% {
    height: 0%;
  }
  100% {
    height: 100%;
  }
}
